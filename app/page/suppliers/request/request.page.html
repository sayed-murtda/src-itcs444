<app-headerpage title="Requset"></app-headerpage>

<ion-content>

    <ion-list>
        <ion-item>
            <ion-label>Select Supplier: </ion-label>
          <ion-select [(ngModel)]="supplier_ID" placeholder="Select fruit" (ionChange)="display_sup_items()">
            <ion-select-option *ngFor="let x of data.getSuppliers() | async" value="{{x.id}}" >{{x.name}}</ion-select-option>
          </ion-select>
        </ion-item>
      </ion-list>

      <!-- <ion-list *ngIf="supplier"> -->
        <!-- {{supplier.items | json}} -->
        <!-- <ion-list *ngFor="let item of supplier.items">
          <ion-item>
            <ion-label>{{item.name}}</ion-label>
          </ion-item>
        </ion-list>
      </ion-list> -->




      <ion-list *ngIf="supplier">

        <div *ngFor="let item of supplier.items; let i=index;" >
            <ion-item>
                <ion-label (click)="Opeeen(i)">{{item.name}}
                    <br> <ion-label *ngIf="open[i]">
                        {{item.description}} <br>Price: {{item.supplyPrice}}BD per {{item.qtyPerCarton}}
                    </ion-label> 
                </ion-label>
                <ion-avatar slot="start">
                <img src='{{item.image}}'>
                </ion-avatar> 
                <ion-item>
                    <ion-button fill="clear" (click)="subQty(i)"><ion-icon name="remove-outline"></ion-icon></ion-button>
                    <ion-label>{{item.qty_Requests}}</ion-label>
                    <ion-button fill="clear" (click)="addQty(i)"><ion-icon name="add-outline"></ion-icon></ion-button>
                </ion-item>            
            </ion-item>
          </div>

          <br>
          <div align="center">
            <ion-button fill="outline" (click)="request()">Requset</ion-button>
          </div>
        </ion-list>
</ion-content>
